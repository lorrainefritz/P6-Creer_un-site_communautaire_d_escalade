<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="bloc_page">
		<header>
			<div class="header_top_part">
				<div th:insert="menu.html"></div>
			</div>
			<div class="header_bottom_part">
				<h1>MON COMPTE</h1>
			</div>
		</header>


		<div class="page_formulaire">

			<table class="table">
				<thead class="table top">
					<tr>
						<th>ID</th>
						<th>NOM</th>
						<th>PRENOM</th>
						<th>ADRESSE</th>
						<th>TELEPHONE</th>
						<th>EMAIL</th>
						<th>ROLE</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td th:text="${curentuser.id}"></td>
						<td th:text="${curentuser.nom}"></td>
						<td th:text="${curentuser.prenom}"></td>
						<td th:text="${curentuser.adresse}"></td>
						<td th:text="${curentuser.telephone}"></td>
						<td th:text="${curentuser.email}"></td>
						<td th:text="${principal.authorities}"></td>
						<td><a th:href="@{editUser}">Modifier</a></td>
						<td><a th:href="@{ajouterUnTopo}">Ajouter un Topo</a></td>
					</tr>
				</tbody>
			</table>
			<h1>MES TOPOS</h1>
			<table class="table">
				<thead class="table top">
					<tr>
						<th>ID</th>
						<th>TITRE</th>
						<th>DESCRIPTION</th>
						<th>EST DISPONIBLE A L'EMPRUNT</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="topo,custStat:${topos}">
						<td th:text="${custStat.index}"></td>
						<td th:text="${topo.id}"></td>
						<td th:text="${topo.title}"></td>
						<td th:text="${topo.content}"></td>
						<td th:if="${topo.freeForBorrow == true}"><a> <img
								class="img-fluid" alt="topo disponible"
								src="/imagesAndLogos/logos/logoTopoDispo.png">
						</a></td>
						<td th:if="${topo.freeForBorrow == false}"><a> <img
								class="img-fluid" alt="topo disponible"
								src="/imagesAndLogos/logos/logoTopoIndispo.png">
						</a></td>
						<td><a
							th:href="@{deleteTopo(custStat=${custStat.index},id=${topo.id})}">Supprimer</a></td>
						<td><a th:href="@{editTopo(id=${topo.id})}">Modifier</a></td>
					</tr>
				</tbody>
			</table>

		</div>

		<footer>
			<div th:insert="footer.html"></div>
		</footer>
	</div>
</body>
</html>